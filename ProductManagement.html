<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product Management</title>
    <!--Credits: HTML: David Uhlmann CSS: Hamlet Baghdasaryan JavaScript: Abel Chacko-->
    <link rel="stylesheet" type="text/css" href = "Css.css">
</head>
<body>
<section>
        <h1>Product Management</h1>
        <br>
    <form>

        <label for="productID">Product ID: </label>
        <br>
        <input type="text" id="productID" name="product ID">
        <br>
        <br>

        <label for="productDescription">Product Description: </label>
        <br>
        <input type="text" id="productDescription" name="product description">
        <br>
        <br>

        <label for="Category" >Product Category: </label>
        <br>
        <select name="subject" id="Category">
        <option value=" " selected="selected">Select Category</option>
        </select>
        <br>
        <br>

        <label for="Measure"> Product Unit of Measure: </label>
        <br>
        <select name="subject" id="Measure">
            <option value=" " selected="selected">Select Unit</option>
        </select>
        <br>
        <br>

        <label for="Price">Product Price: </label>
        <br>
        <input type="text" id="Price" name="price">
        <br>
        <br>

        <label for="Weight"> Product Weight: </label>
        <br>
        <input type="text" id="Weight" name="weight">
        <br>
        <br>

        <input type="submit" id="saveButton" value="Save">

    </form>
    <pre id="Json-Output"></pre>
    
</section>
<script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.getElementById("saveButton").addEventListener("click", function () {
        const form = document.getElementById("productForm");
        const productID = document.getElementById("productID").value.trim();
        const description = document.getElementById("productDescription").value.trim();
        const category = document.getElementById("Category").value.trim();
        const measure = document.getElementById("Measure").value.trim();
        const price = document.getElementById("Price").value.trim();
        const weight = document.getElementById("Weight").value.trim();
        const output = document.getElementById("Json-Output");

        if (!productID || !productDescription || !Category || !Measure || !Price || !Weight) {
            alert("Please fill every field!!");
            return;
        }

        const productIDPattern = /^[0-9]{5}$/;
        if (!productIDPattern.test(productID)) {
            alert("Not Valid! Enter the 5 digit ID");
            return;
        }

        const MeasurePattern = /^[0-9]$/;
        if (!MeasurePattern.test(Measure)) {
            alert("Not a valid measurenment! Please enter all numbers");
            return;
        }

        const PricePattern = /^[0-9]$/;
        if (!PricePattern.test(Price)){
            alert("Not a valid Price! Please Enter all numbers")
            return;
        }

        constProductData = {
            productID: productID,
            description: productDescription,
            category: Category,
            measure: Measure,
            price: Price,
            weight: Weight,
        };
        
        output.textContent = JSON.stringify(ProductData, null, 2);

        output.classList.add("border", "border-success", "p-3");
    });
</script>
    
</body>

</html>
