<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shopping Cart</title>
    <link rel="stylesheet" type="text/css" href = "Css.css">
  </head>
  <body>
  <header>
      <nav>
          <ul>
              <li><a href="index.html">Sign Up</a></li>
              <li><a href="ShoppingCart.html">Cart</a></li>
              <li><a href="ProductManagement.html">Product Management</a></li>
          </ul>
      </nav>
      <hr>
      <h1>TBD Proto Corp inc LLC</h1>
  </header>
  <section>
     <h2> Products</h2>
      <div>
          <div>
              <strong>Consoles</strong>
          </div>
          <div>
              <span>$399.99</span>
              <button role="button"> Add to Cart</button>
          </div>
      </div>
      <div>
          <div>
              <strong>Computers</strong>
          </div>
          <div>
              <span>$499.99</span>
              <button role="button"> Add to Cart</button>
          </div>
      </div>
      <div>
          <div>
              <strong>Laptop</strong>
          </div>
          <div>
              <span>$299.99</span>
              <button role="button"> Add to Cart</button>
          </div>
      </div>

      <div>
          <div>
              <strong>Cable</strong>
          </div>
          <div>
              <span>$24.99</span>
              <button role="button"> Add to Cart</button>
          </div>
      </div>
      <div>
          <div>
              <strong>Mystery box</strong>
          </div>
          <div>
              <span>$50.99</span>
              <button role="button"> Add to Cart</button>
          </div>
      </div>
  </section>

  <section>
      <h2>Cart</h2>
      <div>
          <span>Product ID</span>
          <span >Product Name</span>
          <span>Price</span>
          <span>Quantity</span>
          <span>Total</span>
          <span>Action</span>
      </div>

      <!--Test Product-->
      <div>
          <div >
              <div>
                  <!--Product ID-->
                  <span>1</span>
              </div>
              <div>
                  <!--Product Name-->
                  <span>Consoles</span>
              </div>
              <!--Product Price-->
              <span>$399.99</span>
              <div>
                  <!--Product Quantity-->
                  <input type="number" value="1" min="1" max="100">
                  <!--Remove product from cart-->
                  <button type="button">REMOVE</button>
              </div>
          </div>

      <div>
          <strong>Total</strong>

          <!--Test price -->
          <span>$399.99</span>
      </div>

      <div>
          <button role="button"> checkout</button>
      </div>
      </div>
  </section>   

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const items = [];
  const addButtons = document.querySelectorAll("button[role='button']:not([type='button'])");
  const cartSection = document.querySelector("section:nth-of-type(2)");
  const jsonDisplay = document.createElement("pre");

  document.querySelectorAll("section div").forEach(div => div.classList.add("p-2", "border", "rounded", "m-2"));
  document.querySelectorAll("button").forEach(btn => btn.classList.add("btn", "btn-primary", "m-1"));
  document.querySelector("header").classList.add("bg-dark", "text-white", "p-3");
  document.querySelector("nav ul").classList.add("nav", "justify-content-center");
  document.querySelectorAll("nav ul li").forEach(li => li.classList.add("nav-item", "mx-2"));
  document.querySelectorAll("nav ul li a").forEach(a => a.classList.add("nav-link", "text-white"));

  addButtons.forEach((btn, index) => {
    btn.addEventListener("click", () => {
      const productName = btn.parentElement.previousElementSibling.querySelector("strong").textContent.trim();
      const productPrice = parseFloat(btn.previousElementSibling.textContent.replace("$", ""));
      const existing = items.find(p => p.name === productName);
      if (existing) {
        existing.quantity += 1;
      } else {
        items.push({ id: items.length + 1, name: productName, price: productPrice, quantity: 1 });
      }
      updateCartDisplay();
    }); 
  });

  function updateCartDisplay() {
    const total = items.reduce((sum, p) => sum + p.price * p.quantity, 0);
    jsonDisplay.textContent = JSON.stringify(items, null, 2);
    jsonDisplay.classList.add("bg-light", "p-3", "border", "rounded", "mt-3");
    cartSection.appendChild(jsonDisplay);

    const totalSpan = cartSection.querySelector("div strong + span");
    if (totalSpan) totalSpan.textContent = "$" + total.toFixed(2);
  }

  document.querySelectorAll("input[type='number']").forEach(input => {
    input.addEventListener("input", () => {
      if (input.value < 1) input.value = 1;
      if (input.value > 100) input.value = 100;
    });
  });
});
</script>
  </body>

  </html>
